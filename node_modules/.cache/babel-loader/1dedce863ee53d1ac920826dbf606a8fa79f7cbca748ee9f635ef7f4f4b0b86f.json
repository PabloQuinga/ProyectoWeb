{"ast":null,"code":"var _jsxFileName = \"C:\\\\temp\\\\UTE-Proyectos\\\\ProyectoModule3\\\\proyecto-react-2\\\\src\\\\components\\\\LoginForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport { Form, Input, Button, Card, message, Layout } from 'antd';\nimport { loginUser } from '../api/authApi';\nimport { useNavigate } from 'react-router-dom'; // Importa useNavigate\nimport RegisterForm from './RegisterForm'; // Si quieres permitir registro desde Login\nimport { ThemeContext } from '../contexts/ThemeContext';\nimport { AuthContext } from '../contexts/AuthContext'; // Importa AuthContext\nimport ThemedComponent from './ThemedComponent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Header,\n  Content,\n  Footer\n} = Layout;\nfunction LoginForm() {\n  _s();\n  const [isRegistering, setIsRegistering] = useState(false); // Estado para mostrar el registro\n  const {\n    theme\n  } = useContext(ThemeContext);\n  const {\n    login\n  } = useContext(AuthContext); // Accede a la función login del contexto\n  const navigate = useNavigate(); // Hook de navegación para redirigir\n\n  const onFinish = async values => {\n    try {\n      const data = await loginUser(values.email, values.password);\n      if (data.success) {\n        localStorage.setItem('user', JSON.stringify(data.user)); // Guarda el usuario en localStorage\n        login(); // Actualiza el estado de autenticación\n        message.success('¡Inicio de sesión exitoso!');\n        navigate('/principal'); // Redirige a la página principal\n      }\n    } catch (error) {\n      message.error(error.message || 'Correo o contraseña incorrectos');\n    }\n  };\n  if (isRegistering) {\n    return /*#__PURE__*/_jsxDEV(RegisterForm, {\n      onBackToLogin: () => setIsRegistering(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 12\n    }, this); // Permite volver al login\n  }\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    style: {\n      minHeight: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      style: {\n        color: '#fff',\n        textAlign: 'center',\n        fontSize: '24px',\n        background: theme === 'light' ? '#1890ff' : '#1f1f1f'\n      },\n      children: \"Aplicaci\\xF3n de Acceso\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Content, {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        background: theme === 'light' ? '#fff' : '#141414',\n        transition: 'all 0.3s'\n      },\n      children: [/*#__PURE__*/_jsxDEV(ThemedComponent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        title: \"Inicio de Sesi\\xF3n\",\n        style: {\n          width: 300,\n          margin: 'auto',\n          marginTop: 50\n        },\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          name: \"login\",\n          onFinish: onFinish,\n          children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"email\",\n            rules: [{\n              required: true,\n              message: 'Por favor ingrese su correo!'\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              placeholder: \"Correo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            name: \"password\",\n            rules: [{\n              required: true,\n              message: 'Por favor ingrese su contraseña!'\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input.Password, {\n              placeholder: \"Contrase\\xF1a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              htmlType: \"submit\",\n              block: true,\n              children: \"Iniciar sesi\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            style: {\n              textAlign: 'center'\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"link\",\n              onClick: () => setIsRegistering(true),\n              children: \"\\xBFNo tienes cuenta? Reg\\xEDstrate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {\n      style: {\n        textAlign: 'center',\n        background: theme === 'light' ? '#f0f2f5' : '#1f1f1f',\n        color: theme === 'light' ? '#000' : '#aaa'\n      },\n      children: \"Derechos Reservados UTE \\xA92025 Creado por Jairo Jumbo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginForm, \"Pihf19YFon5KEQ9ChYxHJfwZ5tg=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","useState","useContext","Form","Input","Button","Card","message","Layout","loginUser","useNavigate","RegisterForm","ThemeContext","AuthContext","ThemedComponent","jsxDEV","_jsxDEV","Header","Content","Footer","LoginForm","_s","isRegistering","setIsRegistering","theme","login","navigate","onFinish","values","data","email","password","success","localStorage","setItem","JSON","stringify","user","error","onBackToLogin","fileName","_jsxFileName","lineNumber","columnNumber","style","minHeight","children","color","textAlign","fontSize","background","display","flexDirection","alignItems","justifyContent","transition","title","width","margin","marginTop","name","Item","rules","required","placeholder","Password","type","htmlType","block","onClick","_c","$RefreshReg$"],"sources":["C:/temp/UTE-Proyectos/ProyectoModule3/proyecto-react-2/src/components/LoginForm.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { Form, Input, Button, Card, message, Layout } from 'antd';\r\nimport { loginUser } from '../api/authApi';\r\nimport { useNavigate } from 'react-router-dom';  // Importa useNavigate\r\nimport RegisterForm from './RegisterForm';  // Si quieres permitir registro desde Login\r\nimport { ThemeContext } from '../contexts/ThemeContext';\r\nimport { AuthContext } from '../contexts/AuthContext';  // Importa AuthContext\r\nimport ThemedComponent from './ThemedComponent';\r\n\r\nconst { Header, Content, Footer } = Layout;\r\n\r\nfunction LoginForm() {\r\n  const [isRegistering, setIsRegistering] = useState(false); // Estado para mostrar el registro\r\n  const { theme } = useContext(ThemeContext);\r\n  const { login } = useContext(AuthContext);  // Accede a la función login del contexto\r\n  const navigate = useNavigate();  // Hook de navegación para redirigir\r\n\r\n  const onFinish = async (values) => {\r\n    try {\r\n      const data = await loginUser(values.email, values.password);\r\n\r\n      if (data.success) {\r\n        localStorage.setItem('user', JSON.stringify(data.user));  // Guarda el usuario en localStorage\r\n        login();  // Actualiza el estado de autenticación\r\n        message.success('¡Inicio de sesión exitoso!');\r\n        navigate('/principal');  // Redirige a la página principal\r\n      }\r\n    } catch (error) {\r\n      message.error(error.message || 'Correo o contraseña incorrectos');\r\n    }\r\n  };\r\n\r\n  if (isRegistering) {\r\n    return <RegisterForm onBackToLogin={() => setIsRegistering(false)} />;  // Permite volver al login\r\n  }\r\n\r\n  return (\r\n    <Layout style={{ minHeight: '100vh' }}>\r\n      <Header style={{\r\n        color: '#fff',\r\n        textAlign: 'center',\r\n        fontSize: '24px',\r\n        background: theme === 'light' ? '#1890ff' : '#1f1f1f'\r\n      }}>\r\n        Aplicación de Acceso\r\n      </Header>\r\n\r\n      <Content style={{\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        background: theme === 'light' ? '#fff' : '#141414',\r\n        transition: 'all 0.3s'\r\n      }}>\r\n        <ThemedComponent />\r\n        <Card title=\"Inicio de Sesión\" style={{ width: 300, margin: 'auto', marginTop: 50 }}>\r\n          <Form name=\"login\" onFinish={onFinish}>\r\n            <Form.Item\r\n              name=\"email\"\r\n              rules={[{ required: true, message: 'Por favor ingrese su correo!' }]}>\r\n              <Input placeholder=\"Correo\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              name=\"password\"\r\n              rules={[{ required: true, message: 'Por favor ingrese su contraseña!' }]}>\r\n              <Input.Password placeholder=\"Contraseña\" />\r\n            </Form.Item>\r\n\r\n            <Form.Item>\r\n              <Button type=\"primary\" htmlType=\"submit\" block>\r\n                Iniciar sesión\r\n              </Button>\r\n            </Form.Item>\r\n\r\n            <Form.Item style={{ textAlign: 'center' }}>\r\n              <Button type=\"link\" onClick={() => setIsRegistering(true)}>\r\n                ¿No tienes cuenta? Regístrate\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </Card>\r\n      </Content>\r\n\r\n      <Footer style={{\r\n        textAlign: 'center',\r\n        background: theme === 'light' ? '#f0f2f5' : '#1f1f1f',\r\n        color: theme === 'light' ? '#000' : '#aaa'\r\n      }}>\r\n        Derechos Reservados UTE ©2025 Creado por Jairo Jumbo\r\n      </Footer>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default LoginForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}